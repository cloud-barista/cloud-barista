{{ template "Top" .}}
<div id="lnb">

	<div class="bg"></div>

	<div class="m_box">

		{{template "TopBox" .}}

		{{template "LNBPopup" .}}

		{{template "MenuLeft" .}}

	</div>


	<div class="bottom"></div>
	<a href="javascript:;" id="m_close"></a>

</div>
{{template "Header" .}}
{{template "Modal" .}}

<!-- contents -->
<div class="contbox">

	<div class="titlebox">
		<div class="tit"><img src="/assets/img/common/icon_cont.png" alt="" /> <strong>Cloud Connections</strong></div>
		<div class="location">Home <span>></span> Setting <span>></span> <strong>Cloud Connections</strong></div>
	</div>

	<!-- list -->
	<div class="dashboard dashboard_cont">

		<div class="d_box box_m box_w100">
			<div class="titbox">
				<div class="tit initial"><strong>List of Connection</strong></div>
				<div class="top_info">
					<ul>
						<li>
							<a href="javascript:void(0);">Filter</a>
							<div class="infobox">
								<div class="box">
									<ul>
										<li><a href="javascript:void(0);"
												onclick="commonPromptOpen('FilterName', 'connectionListTable')">Name</a>
										</li>
										<li><a href="javascript:void(0);"
												onclick="commonPromptOpen('FilterCloudProvider', 'connectionListTable')">Provider</a>
										</li>
										<li><a href="javascript:void(0);"
												onclick="commonPromptOpen('FilterDriver', 'connectionListTable')">Driver</a>
										</li>
										<li><a href="javascript:void(0);"
												onclick="commonPromptOpen('FilterCredential', 'connectionListTable')">Credential</a>
										</li>
									</ul>
								</div>
							</div>
						</li>
						<li>
							<a href="javascript:void(0);">Sort</a>
							<div class="infobox">
								<div class="box">
									<ul>
										<li><a href="javascript:void(0);"
												onclick="tableSort('connectionListTable', 'Name')">Name</a></li>
										<li><a href="javascript:void(0);"
												onclick="tableSort('connectionListTable', 'Cloud Provider')">Provider</a>
										</li>
										<li><a href="javascript:void(0);"
												onclick="tableSort('connectionListTable', 'Driver')">Driver</a></li>
										<li><a href="javascript:void(0);"
												onclick="tableSort('connectionListTable', 'Credential')">Credential</a>
										</li>

										<!-- <li><a href="javascript:void(0);">Date</a></li> -->
									</ul>
								</div>
							</div>
						</li>
						<li>
							<a href="javascript:void(0);">Action</a>
							<div class="infobox">
								<div class="box">
									<ul>
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#RegistBox"
												onClick="addCloudConnectionConfirm()">Add</a></li>
										<!-- <li><a href="javascript:void(0);">Change</a></li> -->
										<li><a href="javascript:void(0);" data-toggle="modal" data-target="#UnRegist"
												onClick="commonConfirmOpen('DeleteCloudConnection')">Delete</a></li>
										<li class="divider"></li>
										<li><a href="javascript:void(0);" data-toggle="modal"
												data-target="#Inspect_Resources">Inspect</a></li>
										<li><a href="javascript:void(0);" data-toggle="modal"
												data-target="#Inspect_Resources_All">Inspect All</a>
										</li>
									</ul>
								</div>
							</div>
						</li>
						<li><a href="javascript:void(0);"><img src="/assets/img/common/icon_question.png" alt="" /></a>
						</li>
					</ul>
				</div>
			</div>


			<div class="ds_cont">

				<div class="dataTable status_list">
					<table cellpadding="0" cellspacing="0" border="1" summary="" id="connectionListTable">
						<!-- <colgroup>
											<col width="50px"><col width="56%">
											<col width="column-120px"><col width="column-120px"><col width="column-120px">
											<col width="column-120px"><col width=""><col width="60px">
										</colgroup> -->
						<thead>
							<tr>
								<th class="column-50px-chk"><input type="checkbox" name="" value="" id="th_chall"
										title="" /><label for="th_chall"></label></td>
								<th class="column-15percent">Name</th>
								<th class="column-80px">Cloud Provider</th>
								<th class="column-120px">Region</th>
								<th class="column-120px">Zone</th>
								<th class="column-120px">Credential</th>
								<th class="column-120px">Driver</th>
								<!-- <th class="column-60px"></th> -->
							</tr>
						</thead>
						<tbody id="cList">
							{{ $length := len .CloudConnectionConfigList }}
							{{ if eq $length 0 }}
							<tr>
								<td class="overlay hidden" data-th="" colspan="8">No Data</td>
							</tr>
							{{ end }}

							{{range $index, $item := .CloudConnectionConfigList}}
							<tr onclick="showConnectionConfigInfo('cc_info_{{$index}}');">
								<td class="overlay hidden column-50px-chk" data-th="">
									<input type="hidden" id="cc_info_{{$index}}"
										value="{{$item.ConfigName}}|{{$item.ProviderName}}|{{$item.RegionName}}|{{$item.CredentialName}}|{{$item.DriverName}}" />
									<input type="checkbox" name="cloudconnection_chk" value="{{$item.ConfigName}}"
										id="raw_{{$index}}" title="" />
									<label for="td_ch1"></label> <span class="ov off"></span>
								</td>
								<td class="btn_mtd ovm td_left column-15percent" data-th="Name">
									{{$item.ConfigName}}
									<!-- <a href="javascript:void(0);"><img src="/assets/img/contents/icon_copy.png" class="td_icon" alt=""/></a> -->
									<span class="ov"></span>
								</td>
								<td class="column-80px" data-th="Cloud Provider">{{$item.ProviderName}}</td>
								<td class="overlay hidden column-120px" data-th="Region">{{$item.RegionName}}</td>
								<td class="overlay hidden column-120px" data-th="Zone">{{$item.RegionName}}</td>
								<td class="overlay hidden column-120px" data-th="Credential">{{$item.CredentialName}}
								</td>
								<td class="overlay hidden column-120px" data-th="Driver">{{$item.DriverName}}</td>
								<!-- <td class="overlay hidden column-60px" data-th="">
													<a href="javascript:void(0);"><img src="/assets/img/contents/icon_link.png" class="icon" alt=""/></a>
												</td> -->
							</tr>
							{{end}}

						</tbody>
					</table>
				</div>


				<!-- <div class="pageing">
									<a href="#" class="btn_prev"><span>이전</span></a>
									<a href="#" class="active">1</a>
									<a href="#">2</a>
									<a href="#">3</a>
									<a href="#">4</a>
									<a href="#">5</a>
									<a href="#" class="btn_next"><span>다음</span></a>
								</div> -->

			</div>

		</div>

	</div>
	<!-- //list -->


	<!-- Modify -->
	<div class="dashboard dashboard_cont server_status" id="info_box">

		<div class="d_box box_m box_w100">
			<div class="titbox_n">
				<div class="tit initial"><strong>Cloud Connection Config Info</strong> <span class="stxt"></span></div>
			</div>

			<div class="ds_cont">
				<div class="register_box">

					<div class="top_ipbox">
						<!-- 현재는 modify를 하지 않으므로 숨김-->
						<!-- <div class="ipbox ipbox1" id="createCloudConnectionArea">
											<ul>
												<li class="reg_1 reg_1n">
													<label>Cloud Connection Name</label>
													<input type="text" name="" value="" placeholder="Name" class="gray" title="" readonly id="infoName"/>
												</li>
												<li class="reg_1 reg_1n">
													<label>Credential</label>
													<input type="text" name="" value="Credential selected Credential" placeholder="Credential" id="infoCredential" class="gray" title="" readonly />
												</li>
											</ul>
										</div> 
										<div class="ipbox ipbox2">
											<ul>
												<li class="reg_3">
                                                    <label>Provider (CP)</label>
                                                    <input type="text" name="" value="AWS, AZURE, GCP, ALIBABA / Region" placeholder="" class="gray" title="" id="infoProvider" readonly />
												</li>
												<li class="reg_3">
                                                    <label>Region / zone</label>
                                                    <input type="text" name="" value="" placeholder="" class="gray" title="" id="infoRegion" readonly />
												</li>
												<li class="reg_3">
                                                    <label>Driver</label>
                                                    <input type="text" name="" value="" placeholder="" class="gray" title="" id="infoDriver" readonly />
												</li>
											</ul>
										</div>
										-->
					</div>



					<div class="graybox">

						<div class="g_box">

							<div class="logicbox">

								<div class="txtbox">

									<div class="logic_tbox lg_1">
										<div class="tit">Cloud Connection</div>
										<div class="txt" id="infoNamePrs">
											Connection<br /> Name
										</div>
									</div>

									<div class="line line_a line_p1"></div>

									<div class="logic_tbox lg_2">
										<div class="tit">Cloud Provider</div>
										<div class="txt" style="min-height: 70px;" id="infoProviderPrs">
											Provider(CP)<br />Name & Icon
										</div>
									</div>

									<div class="line line_p2"></div>
									<div class="line line_a line_p2_1"></div>

									<div class="logic_tbox lg_3">
										<div class="tit">Cloud Region/zone</div>
										<div class="txt" style="min-height: 70px;" id="infoRegionPrs">
											Region<br />Name
										</div>
									</div>

									<div class="line line_p3"></div>
									<div class="line line_a line_p3_1"></div>

									<div class="logic_tbox lg_4">
										<div class="tit">Cloud Driver</div>
										<div class="txt" style="min-height: 70px;" id="infoDriverPrs">
											Driver<br />Name
										</div>
									</div>

									<div class="line line_p4"></div>
									<div class="line line_a line_p4_1"></div>

									<div class="logic_tbox lg_5">
										<div class="tit">Cloud Credential</div>
										<div class="txt" style="min-height: 70px;" id="infoCredentialPrs">
											Credential<br />Name
										</div>
									</div>


								</div>

								<div class="mapcont">
									<div id="map" class="map" style="height:300px;">
									</div>
								</div>
							</div>




						</div>

					</div>

					<div class="btnbox">
						<div class="btn_center">
							<!-- <button name="" value="" class="btn_co btn_cr_g w135 btn_ok">OK</button>  -->
						</div>
					</div>

				</div>
			</div>

		</div>

	</div>
	<!-- //Modify -->


	<!-- Register Cloud Connection -->
	<div class="dashboard dashboard_cont register_cont" id="CreateBox">

		<div class="d_box box_m box_w100">
			<div class="titbox_n">
				<div class="tit initial cg"><strong>Create Cloud Connection Config</strong></div>
			</div>

			<div class="ds_cont">
				<div class="register_box reg">

					<div class="top_ipbox">
						<div class="ipbox ipbox1">
							<ul>
								<li class="reg_1">
									<!-- <label><span class="ch">*</span>Connection Name</label>
                                                    <input type="text" name="" value="" placeholder="input Cloud Connection Name" class="pline" title="" id="reg_ConfigName"/> -->
									<input type="hidden" id="regRegion" name="" value="" class="pline" title="" />
									<input type="hidden" id="regCredential" name="" value="" class="pline" title="" />
									<input type="hidden" id="regDriver" name="" value="" class="pline" title="" />
								</li>
							</ul>
						</div>
						<div class="ipbox ipbox2">
							<ul>
								<li class="reg_3">
									<label><span class="ch">*</span>Provider</label>
									<input type="text" class="pline upper_only"
										placeholder="input Provider AWS, AZURE, GCP, ALIBABA" id="regProvider" />
								</li>
								<li class="reg_3">
									<label><span class="ch">*</span>Connection Name</label>
									<input type="text" class="pline" style="text-transform: lowercase;"
										placeholder="input Cloud Connection Name" id="regConfigName" />
								</li>
							</ul>
						</div>
					</div>

					<div class="iptable_box">

						<!-- driver -->
						<div class="table_plist">
							<div class="tit"><span class="ch">*</span>Driver</div>
							<div class="btn_s">
								<button class="btn_write" value="" name="" data-toggle="modal"
									data-target="#Add_Driver">write</button>
								<button class="btn_delete" value="" name=""
									onClick="commonConfirmOpen('DeleteDriver')">delete</button>
								<!-- <button class="btn_add" value="" name="">add</button> -->
							</div>
							<div class="dataTable first_over">
								<table cellpadding="0" cellspacing="0" border="1" summary="" id="driverListTable">
									<!-- <colgroup>
														<col width="38%"><col width="38%"><col width="">
													</colgroup> -->
									<thead>
										<tr>
											<th>Name</th>
											<th>Driver Library</th>
											<th>CP</th>
										</tr>
									</thead>
									<tbody id="driverList">
										{{ $length := len .DriverList }}
										{{ if eq $length 0 }}
										<tr>
											<td class="overlay hidden" data-th="" colspan="3">No Data</td>
										</tr>
										{{ end }}


										{{ range $index, $item := .DriverList }}
										<tr onclick="getDriverInfo('driver', 'driver_info_{{ $index }}');">
											<td class="btn_mtd ovm" data-th="Name">{{ $item.DriverName}}<span
													class="ov"></span></td>
											<input type="hidden" id="driver_info_{{ $index }}"
												value="{{ $item.DriverName }}|{{ $item.ProviderName }}|{{ $item.DriverLibFileName }}" />
											<td class="overlay hidden" data-th="Driver SDK">{{ $item.DriverLibFileName
												}}</td>
											<td class="overlay hidden" data-th="CP">{{ $item.ProviderName }}</td>
										</tr>
										{{ end }}

									</tbody>
								</table>
							</div>
						</div>

						<!-- credential -->
						<div class="table_plist">
							<div class="tit"><span class="ch">*</span>Credential</div>
							<div class="btn_s">
								<button class="btn_write" value="" name="" data-toggle="modal"
									data-target="#Add_Credential">write</button>
								<button class="btn_delete" value="" name=""
									onClick="commonConfirmOpen('DeleteCredential')">delete</button>
								<!-- <button class="btn_add" value="" name="">add</button> -->
							</div>
							<div class="dataTable first_over">
								<table cellpadding="0" cellspacing="0" border="1" summary="" id="credentialListTable">
									<!-- <colgroup>
														<col width="38%"><col width="38%"><col width="">
													</colgroup> -->
									<thead>
										<tr>
											<th>Name</th>
											<th>accesskey</th>
											<th>CP</th>
										</tr>
									</thead>
									<tbody id="credentialList">
										{{ $length := len .CredentialList }}
										{{ if eq $length 0 }}
										<tr>
											<td class="overlay hidden" data-th="" colspan="3">No Data</td>
										</tr>
										{{ end }}


										{{ range $index, $item := .CredentialList }}
										<tr onclick="getCredentialInfo('credential', 'credential_info_{{ $index }}');">
											<td class="btn_mtd ovm" data-th="Name">{{ $item.CredentialName }}<span
													class="ov"></span>
												<input type="hidden" id="credential_info_{{ $index }}"
													value="{{ $item.CredentialName }}" />
											<td class="overlay hidden" data-th="accesskey">...</td>
											<td class="overlay hidden" data-th="CP">{{ $item.ProviderName }}</td>
										</tr>
										{{ end }}
									</tbody>
								</table>
							</div>
						</div>

						<!-- regoin -->
						<div class="table_plist">
							<div class="tit"><span class="ch">*</span>Region/Zone</div>
							<div class="btn_s">
								<button class="btn_write" value="" name="" data-toggle="modal"
									data-target="#Add_Region">write</button>
								<button class="btn_delete" value="" name=""
									onClick="commonConfirmOpen('DeleteRegion')">delete</button>
								<!-- <button class="btn_delete" value="" name="" data-toggle="modal" data-target="#Del_Region">delete</button> -->
							</div>
							<div class="dataTable first_over">
								<table cellpadding="0" cellspacing="0" border="1" summary="" id="regionListTable">
									<!-- <colgroup>
														<col width="28%"><col width="28%">
														<col width="28%"><col width="%">
													</colgroup> -->
									<thead>
										<tr>
											<th>Name</th>
											<th>Region</th>
											<th>Zone</th>
											<th>CP</th>
										</tr>
									</thead>
									<tbody id="regionList">
										{{ $length := len .RegionList }}
										{{ if eq $length 0 }}
										<tr>
											<td class="overlay hidden" data-th="" colspan="4">No Data</td>
										</tr>
										{{ end }}


										{{ range $index, $item := .RegionList }}
										<tr onclick="getRegionInfo('region', 'region_info_{{$index}}');">
											<td class="btn_mtd ovm" data-th="Name">{{$item.RegionName}}<span
													class="ov"></span></td>
											<input type="hidden" id="region_info_{{$index}}"
												value="{{$item.RegionName}}" />

											{{ $sublength := len .KeyValueInfoList }}
											{{ range $subIndex, $keyValue := .KeyValueInfoList }}
											{{ if eq $subIndex 0 }}
											<td class="overlay hidden" data-th="region ID">{{ $keyValue.Value }}</td>
											{{ end }}

											{{ if eq $subIndex 1 }}
											<td class="overlay hidden" data-th="Zone">{{ $keyValue.Value }}</td>
											{{ end}}
											{{ end }}

											<!-- Zone 이 없는 경우 생성해야 함.-->

											{{ if eq $sublength 0 }}
											<td class="overlay hidden" data-th="region ID">-</td>
											<td class="overlay hidden" data-th="Zone">-</td>
											{{ end }}

											{{ if eq $sublength 1}}
											<td class="overlay hidden" data-th="Zone">-</td>
											{{ end }}
											<td class="overlay hidden" data-th="CP">{{$item.ProviderName}}</td>
										</tr>
										{{ end }}
									</tbody>
								</table>
							</div>
						</div>
					</div>

					<div class="top_ipbox">
						<div class="ipbox ipbox1 ipbox5">
							<ul>
								<li class="reg_1 reg_1n"></li>
							</ul>
						</div>
						<div class="ipbox ipbox2 ipbox6">
							<ul>
								<!-- <li class="reg_3">
													<label><span class="ch">*</span>Cloud Connection Name</label>
                                                    <input type="text" name="" value="" placeholder="input Cloud Connection Name" class="pline" title="" id="reg_ConfigName"/>
												</li> -->
							</ul>
						</div>
					</div>

					<div class="btnbox">
						<div class="btn_center">
							<button name="" value="" class="btn_co btn_cr_b w135 btn_cancel">Cancel</button>
							<button name="" value="" class="btn_co btn_cr_g w135 btn_ok"
								onclick="createCloudConnection()">Ok</button>
						</div>
					</div>

				</div>
			</div>

		</div>

	</div>
	<!-- //Register Cloud Connection -->

	<!-- Region, Credential, Driver Modal 로 쪼개짐 { {template "CloudConnectionModal" .} } -->

	{{template "RegionModal" .}}

	{{template "CredentialModal" .}}

	{{template "DriverModal" .}}

	{{template "InspectModal" .}}

</div>
<!-- //contents -->

<!-- required modal -->
<!-- <div class="modal fade" id="requiredCloudConnection" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							
							<div class="modal-body">
								<div class="txt"><span id="requireMessage"></span></div>
								<div class="btnbox">
									<button type="button" class="btn_cancel" data-dismiss="modal">OK</button>
								</div>
							</div>                    
						</div>
					</div>                    
				</div> -->
<!-- //required -->

<script src="/assets/js/setting/connections/cloudconnectionconfigmng.js"></script>
<script type="text/javascript">
	let osmLayer;
	$(document).ready(function () {
		osmLayer = new ol.layer.Tile({
			source: new ol.source.OSM(),
		});
	});

</script>
{{template "Footer" .}}