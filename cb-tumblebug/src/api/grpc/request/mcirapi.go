package request

import (
	"encoding/json"
	"errors"
	"io"
	"time"

	gc "github.com/cloud-barista/cb-tumblebug/src/api/grpc/common"
	"github.com/cloud-barista/cb-tumblebug/src/api/grpc/config"
	"github.com/cloud-barista/cb-tumblebug/src/api/grpc/logger"
	pb "github.com/cloud-barista/cb-tumblebug/src/api/grpc/protobuf/cbtumblebug"
	"github.com/cloud-barista/cb-tumblebug/src/api/grpc/request/mcir"

	"google.golang.org/grpc"
)

// ===== [ Comtants and Variables ] =====

// ===== [ Types ] =====

// MCIRApi
type MCIRApi struct {
	gConf        *config.GrpcConfig
	conn         *grpc.ClientConn
	jaegerCloser io.Closer
	clientMCIR   pb.MCIRClient
	requestMCIR  *mcir.MCIRRequest
	inType       string
	outType      string
}

// KeyValue
type KeyValue struct {
	Key   string `yaml:"Key" json:"Key"`
	Value string `yaml:"Value" json:"Value"`
}

// IID - Defined by & used for CB-Spider
type IID struct {
	NameId   string `yaml:"NameId" json:"NameId"`
	SystemId string `yaml:"SystemId" json:"SystemId"`
}

// TbImageCreateRequest - Wrapper struct
type TbImageCreateRequest struct {
	NsId string     `yaml:"nsId" json:"nsId"`
	Item TbImageReq `yaml:"image" json:"image"`
}

// TbImageReq
type TbImageReq struct {
	Name           string `yaml:"name" json:"name"`
	ConnectionName string `yaml:"connectionName" json:"connectionName"`
	CspImageId     string `yaml:"cspImageId" json:"cspImageId"`
	Description    string `yaml:"description" json:"description"`
}

// TbImageInfoRequest - Wrapper struct
type TbImageInfoRequest struct {
	NsId string      `yaml:"nsId" json:"nsId"`
	Item TbImageInfo `yaml:"image" json:"image"`
}

// TbImageInfo
type TbImageInfo struct {
	Id                   string     `yaml:"id" json:"id"`
	Name                 string     `yaml:"name" json:"name"`
	ConnectionName       string     `yaml:"connectionName" json:"connectionName"`
	CspImageId           string     `yaml:"cspImageId" json:"cspImageId"`
	CspImageName         string     `yaml:"cspImageName" json:"cspImageName"`
	Description          string     `yaml:"description" json:"description"`
	CreationDate         string     `yaml:"creationDate" json:"creationDate"`
	GuestOS              string     `yaml:"guestOS" json:"guestOS"`
	Status               string     `yaml:"status" json:"status"`
	KeyValueList         []KeyValue `yaml:"keyValueList" json:"keyValueList"`
	AssociatedObjectList []string   `yaml:"associatedObjectList" json:"associatedObjectList"`
	IsAutoGenerated      bool       `yaml:"isAutoGenerated" json:"isAutoGenerated"`
}

// SearchImageQryRequest - Wrapper struct
type SearchImageQryRequest struct {
	NsId     string   `yaml:"nsId" json:"nsId"`
	Keywords []string `yaml:"keywords" json:"keywords"`
}

// TbSecurityGroupCreateRequest - Wrapper struct
type TbSecurityGroupCreateRequest struct {
	NsId string             `yaml:"nsId" json:"nsId"`
	Item TbSecurityGroupReq `yaml:"securityGroup" json:"securityGroup"`
}

// TbSecurityGroupReq
type TbSecurityGroupReq struct { // Tumblebug
	Name           string                    `yaml:"name" json:"name"`
	ConnectionName string                    `yaml:"connectionName" json:"connectionName"`
	VNetId         string                    `yaml:"vNetId" json:"vNetId"`
	Description    string                    `yaml:"description" json:"description"`
	FirewallRules  *[]SpiderSecurityRuleInfo `yaml:"firewallRules" json:"firewallRules"`
}

// SpiderSecurityRuleInfo
type SpiderSecurityRuleInfo struct { // Spider
	FromPort   string `yaml:"fromPort" json:"fromPort"`
	ToPort     string `yaml:"toPort" json:"toPort"`
	IPProtocol string `yaml:"ipProtocol" json:"ipProtocol"`
	Direction  string `yaml:"direction" json:"direction"`
	CIDR       string `yaml:"cidr" json:"cidr"`
}

// TbSpecCreateRequest - Wrapper struct
type TbSpecCreateRequest struct {
	NsId string    `yaml:"nsId" json:"nsId"`
	Item TbSpecReq `yaml:"spec" json:"spec"`
}

// TbSpecReq
type TbSpecReq struct { // Tumblebug
	Name           string `yaml:"name" json:"name"`
	ConnectionName string `yaml:"connectionName" json:"connectionName"`
	CspSpecName    string `yaml:"cspSpecName" json:"cspSpecName"`
	Description    string `yaml:"description" json:"description"`
}

// TbSpecInfoRequest - Wrapper struct
type TbSpecInfoRequest struct {
	NsId string     `yaml:"nsId" json:"nsId"`
	Item TbSpecInfo `yaml:"spec" json:"spec"`
}

// TbSpecInfo
type TbSpecInfo struct { // Tumblebug
	Id                    string   `yaml:"id" json:"id"`
	Name                  string   `yaml:"name" json:"name"`
	ConnectionName        string   `yaml:"connectionName" json:"connectionName"`
	CspSpecName           string   `yaml:"cspSpecName" json:"cspSpecName"`
	Os_type               string   `yaml:"os_type" json:"os_type"`
	Num_vCPU              uint16   `yaml:"num_vCPU" json:"num_vCPU"`
	Num_core              uint16   `yaml:"num_core" json:"num_core"`
	Mem_GiB               uint16   `yaml:"mem_GiB" json:"mem_GiB"`
	Storage_GiB           uint32   `yaml:"storage_GiB" json:"storage_GiB"`
	Description           string   `yaml:"description" json:"description"`
	Cost_per_hour         float32  `yaml:"cost_per_hour" json:"cost_per_hour"`
	Num_storage           uint8    `yaml:"num_storage" json:"num_storage"`
	Max_num_storage       uint8    `yaml:"max_num_storage" json:"max_num_storage"`
	Max_total_storage_TiB uint16   `yaml:"max_total_storage_TiB" json:"max_total_storage_TiB"`
	Net_bw_Gbps           uint16   `yaml:"net_bw_Gbps" json:"net_bw_Gbps"`
	Ebs_bw_Mbps           uint32   `yaml:"ebs_bw_Mbps" json:"ebs_bw_Mbps"`
	Gpu_model             string   `yaml:"gpu_model" json:"gpu_model"`
	Num_gpu               uint8    `yaml:"num_gpu" json:"num_gpu"`
	Gpumem_GiB            uint16   `yaml:"gpumem_GiB" json:"gpumem_GiB"`
	Gpu_p2p               string   `yaml:"gpu_p2p" json:"gpu_p2p"`
	OrderInFilteredResult uint16   `yaml:"orderInFilteredResult" json:"orderInFilteredResult"`
	EvaluationStatus      string   `yaml:"evaluationStatus" json:"evaluationStatus"`
	EvaluationScore_01    float32  `yaml:"evaluationScore_01" json:"evaluationScore_01"`
	EvaluationScore_02    float32  `yaml:"evaluationScore_02" json:"evaluationScore_02"`
	EvaluationScore_03    float32  `yaml:"evaluationScore_03" json:"evaluationScore_03"`
	EvaluationScore_04    float32  `yaml:"evaluationScore_04" json:"evaluationScore_04"`
	EvaluationScore_05    float32  `yaml:"evaluationScore_05" json:"evaluationScore_05"`
	EvaluationScore_06    float32  `yaml:"evaluationScore_06" json:"evaluationScore_06"`
	EvaluationScore_07    float32  `yaml:"evaluationScore_07" json:"evaluationScore_07"`
	EvaluationScore_08    float32  `yaml:"evaluationScore_08" json:"evaluationScore_08"`
	EvaluationScore_09    float32  `yaml:"evaluationScore_09" json:"evaluationScore_09"`
	EvaluationScore_10    float32  `yaml:"evaluationScore_10" json:"evaluationScore_10"`
	AssociatedObjectList  []string `yaml:"associatedObjectList" json:"associatedObjectList"`
	IsAutoGenerated       bool     `yaml:"isAutoGenerated" json:"isAutoGenerated"`
}

// TbSshKeyCreateRequest - Wrapper struct
type TbSshKeyCreateRequest struct {
	NsId string      `yaml:"nsId" json:"nsId"`
	Item TbSshKeyReq `yaml:"sshKey" json:"sshKey"`
}

// TbSshKeyReq
type TbSshKeyReq struct {
	Name           string `yaml:"name" json:"name"`
	ConnectionName string `yaml:"connectionName" json:"connectionName"`
	Description    string `yaml:"description" json:"description"`
}

// TbVNetCreateRequest - Wrapper struct
type TbVNetCreateRequest struct {
	NsId string    `yaml:"nsId" json:"nsId"`
	Item TbVNetReq `yaml:"vNet" json:"vNet"`
}

// TbVNetReq
type TbVNetReq struct { // Tumblebug
	Name           string                `yaml:"name" json:"name"`
	ConnectionName string                `yaml:"connectionName" json:"connectionName"`
	CidrBlock      string                `yaml:"cidrBlock" json:"cidrBlock"`
	SubnetInfoList []SpiderSubnetReqInfo `yaml:"subnetInfoList" json:"subnetInfoList"`
	Description    string                `yaml:"description" json:"description"`
}

// SpiderSubnetReqInfo
type SpiderSubnetReqInfo struct { // Spider
	Name         string     `yaml:"Name" json:"Name"`
	IPv4_CIDR    string     `yaml:"IPv4_CIDR" json:"IPv4_CIDR"`
	KeyValueList []KeyValue `yaml:"KeyValueList" json:"KeyValueList"`
}

// ===== [ Implementatiom ] =====

// SetServerAddr - Set Tumblebug server address
func (m *MCIRApi) SetServerAddr(addr string) error {
	if addr == "" {
		return errors.New("parameter is empty")
	}

	m.gConf.GSL.TumblebugCli.ServerAddr = addr
	return nil
}

// GetServerAddr - Get Tumblebug server address
func (m *MCIRApi) GetServerAddr() (string, error) {
	return m.gConf.GSL.TumblebugCli.ServerAddr, nil
}

// SetTLSCA - Set TLS CA
func (m *MCIRApi) SetTLSCA(tlsCAFile string) error {
	if tlsCAFile == "" {
		return errors.New("parameter is empty")
	}

	if m.gConf.GSL.TumblebugCli.TLS == nil {
		m.gConf.GSL.TumblebugCli.TLS = &config.TLSConfig{}
	}

	m.gConf.GSL.TumblebugCli.TLS.TLSCA = tlsCAFile
	return nil
}

// GetTLSCA - Get TLS CA
func (m *MCIRApi) GetTLSCA() (string, error) {
	if m.gConf.GSL.TumblebugCli.TLS == nil {
		return "", nil
	}

	return m.gConf.GSL.TumblebugCli.TLS.TLSCA, nil
}

// SetTimeout
func (m *MCIRApi) SetTimeout(timeout time.Duration) error {
	m.gConf.GSL.TumblebugCli.Timeout = timeout
	return nil
}

// GetTimeout
func (m *MCIRApi) GetTimeout() (time.Duration, error) {
	return m.gConf.GSL.TumblebugCli.Timeout, nil
}

// SetJWTToken - Set JWT auth token
func (m *MCIRApi) SetJWTToken(token string) error {
	if token == "" {
		return errors.New("parameter is empty")
	}

	if m.gConf.GSL.TumblebugCli.Interceptors == nil {
		m.gConf.GSL.TumblebugCli.Interceptors = &config.InterceptorsConfig{}
		m.gConf.GSL.TumblebugCli.Interceptors.AuthJWT = &config.AuthJWTConfig{}
	}
	if m.gConf.GSL.TumblebugCli.Interceptors.AuthJWT == nil {
		m.gConf.GSL.TumblebugCli.Interceptors.AuthJWT = &config.AuthJWTConfig{}
	}

	m.gConf.GSL.TumblebugCli.Interceptors.AuthJWT.JWTToken = token
	return nil
}

// GetJWTToken - Get JWT auth token
func (m *MCIRApi) GetJWTToken() (string, error) {
	if m.gConf.GSL.TumblebugCli.Interceptors == nil {
		return "", nil
	}
	if m.gConf.GSL.TumblebugCli.Interceptors.AuthJWT == nil {
		return "", nil
	}

	return m.gConf.GSL.TumblebugCli.Interceptors.AuthJWT.JWTToken, nil
}

// SetConfigPath
func (m *MCIRApi) SetConfigPath(configFile string) error {
	logger := logger.NewLogger()

	// Make new config parser that uses Viper library
	parser := config.MakeParser()

	var (
		gConf config.GrpcConfig
		err   error
	)

	if configFile == "" {
		logger.Error("Please, provide the path to your configuration file")
		return errors.New("configuration file are not specified")
	}

	logger.Debug("Parsing configuration file: ", configFile)
	if gConf, err = parser.GrpcParse(configFile); err != nil {
		logger.Error("ERROR - Parsing the configuration file.\n", err.Error())
		return err
	}

	// Check input data
	tumblebugcli := gConf.GSL.TumblebugCli

	if tumblebugcli == nil {
		return errors.New("tumblebugcli field are not specified")
	}

	if tumblebugcli.ServerAddr == "" {
		return errors.New("tumblebugcli.server_addr field are not specified")
	}

	if tumblebugcli.Timeout == 0 {
		tumblebugcli.Timeout = 90 * time.Second
	}

	if tumblebugcli.TLS != nil {
		if tumblebugcli.TLS.TLSCA == "" {
			return errors.New("tumblebugcli.tls.tls_ca field are not specified")
		}
	}

	if tumblebugcli.Interceptors != nil {
		if tumblebugcli.Interceptors.AuthJWT != nil {
			if tumblebugcli.Interceptors.AuthJWT.JWTToken == "" {
				return errors.New("tumblebugcli.interceptors.auth_jwt.jwt_token field are not specified")
			}
		}
		if tumblebugcli.Interceptors.Opentracing != nil {
			if tumblebugcli.Interceptors.Opentracing.Jaeger != nil {
				if tumblebugcli.Interceptors.Opentracing.Jaeger.Endpoint == "" {
					return errors.New("tumblebugcli.interceptors.opentracing.jaeger.endpoint field are not specified")
				}
			}
		}
	}

	m.gConf = &gConf
	return nil
}

// Open - Open new connection
func (m *MCIRApi) Open() error {

	tumblebugcli := m.gConf.GSL.TumblebugCli

	// grpc 커넥션 생성
	cbconn, closer, err := gc.NewCBConnection(tumblebugcli)
	if err != nil {
		return err
	}

	if closer != nil {
		m.jaegerCloser = closer
	}

	m.conn = cbconn.Conn

	// grpc 클라이언트 생성
	m.clientMCIR = pb.NewMCIRClient(m.conn)

	// grpc 호출 Wrapper
	m.requestMCIR = &mcir.MCIRRequest{Client: m.clientMCIR, Timeout: tumblebugcli.Timeout, InType: m.inType, OutType: m.outType}

	return nil
}

// Close - Close connection
func (m *MCIRApi) Close() {
	if m.conn != nil {
		m.conn.Close()
	}
	if m.jaegerCloser != nil {
		m.jaegerCloser.Close()
	}

	m.jaegerCloser = nil
	m.conn = nil
	m.clientMCIR = nil
	m.requestMCIR = nil
}

// SetInType - Set input doc type (json/yaml)
func (m *MCIRApi) SetInType(in string) error {
	if in == "json" {
		m.inType = in
	} else if in == "yaml" {
		m.inType = in
	} else {
		return errors.New("input type is not supported")
	}

	if m.requestMCIR != nil {
		m.requestMCIR.InType = m.inType
	}

	return nil
}

// GetInType - Get input doc type (json/yaml)
func (m *MCIRApi) GetInType() (string, error) {
	return m.inType, nil
}

// SetOutType - Set output doc type (json/yaml)
func (m *MCIRApi) SetOutType(out string) error {
	if out == "json" {
		m.outType = out
	} else if out == "yaml" {
		m.outType = out
	} else {
		return errors.New("output type is not supported")
	}

	if m.requestMCIR != nil {
		m.requestMCIR.OutType = m.outType
	}

	return nil
}

// GetOutType - Get output doc type (json/yaml)
func (m *MCIRApi) GetOutType() (string, error) {
	return m.outType, nil
}

// CreateImageWithInfo
func (m *MCIRApi) CreateImageWithInfo(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.CreateImageWithInfo()
}

// CreateImageWithInfoByParam
func (m *MCIRApi) CreateImageWithInfoByParam(req *TbImageInfoRequest) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	j, err := json.Marshal(req)
	if err != nil {
		return "", err
	}
	m.requestMCIR.InData = string(j)
	result, err := m.requestMCIR.CreateImageWithInfo()
	m.SetInType(holdType)

	return result, err
}

// CreateImageWithID
func (m *MCIRApi) CreateImageWithID(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.CreateImageWithID()
}

// CreateImageWithIDByParam
func (m *MCIRApi) CreateImageWithIDByParam(req *TbImageCreateRequest) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	j, err := json.Marshal(req)
	if err != nil {
		return "", err
	}
	m.requestMCIR.InData = string(j)
	result, err := m.requestMCIR.CreateImageWithID()
	m.SetInType(holdType)

	return result, err
}

// ListImage
func (m *MCIRApi) ListImage(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListImage()
}

// ListImageByParam
func (m *MCIRApi) ListImageByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"image"}`
	result, err := m.requestMCIR.ListImage()
	m.SetInType(holdType)

	return result, err
}

// ListImageId
func (m *MCIRApi) ListImageId(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListImageId()
}

// ListImageIdByParam
func (m *MCIRApi) ListImageIdByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"image"}`
	result, err := m.requestMCIR.ListImageId()
	m.SetInType(holdType)

	return result, err
}

// GetImage
func (m *MCIRApi) GetImage(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.GetImage()
}

// GetImageByParam
func (m *MCIRApi) GetImageByParam(nameSpaceID string, resourceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"image", "resourceId":"` + resourceID + `"}`
	result, err := m.requestMCIR.GetImage()
	m.SetInType(holdType)

	return result, err
}

// DeleteImage
func (m *MCIRApi) DeleteImage(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteImage()
}

// DeleteImageByParam
func (m *MCIRApi) DeleteImageByParam(nameSpaceID string, resourceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"image", "resourceId":"` + resourceID + `", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteImage()
	m.SetInType(holdType)

	return result, err
}

// DeleteAllImage
func (m *MCIRApi) DeleteAllImage(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteAllImage()
}

// DeleteAllImageByParam
func (m *MCIRApi) DeleteAllImageByParam(nameSpaceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"image", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteAllImage()
	m.SetInType(holdType)

	return result, err
}

// FetchImage
func (m *MCIRApi) FetchImage(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.FetchImage()
}

// FetchImageByParam
func (m *MCIRApi) FetchImageByParam(connConfigName string, nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"ConnectionName":"` + connConfigName + `", "nsId":"` + nameSpaceID + `"}`
	result, err := m.requestMCIR.FetchImage()
	m.SetInType(holdType)

	return result, err
}

// SearchImage
func (m *MCIRApi) SearchImage(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.SearchImage()
}

// SearchImageByParam
func (m *MCIRApi) SearchImageByParam(req *SearchImageQryRequest) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	j, err := json.Marshal(req)
	if err != nil {
		return "", err
	}
	m.requestMCIR.InData = string(j)
	result, err := m.requestMCIR.SearchImage()
	m.SetInType(holdType)

	return result, err
}

// ListLookupImage - LookupImages
func (m *MCIRApi) ListLookupImage(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListLookupImage()
}

// ListLookupImageByParam - LookupImages
func (m *MCIRApi) ListLookupImageByParam(connConfigName string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"ConnectionName":"` + connConfigName + `"}`
	result, err := m.requestMCIR.ListLookupImage()
	m.SetInType(holdType)

	return result, err
}

// GetLookupImage - LookupImage
func (m *MCIRApi) GetLookupImage(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.GetLookupImage()
}

// GetLookupImageByParam - LookupImage
func (m *MCIRApi) GetLookupImageByParam(connConfigName string, cspImageId string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"ConnectionName":"` + connConfigName + `", "cspImageId": "` + cspImageId + `"}`
	result, err := m.requestMCIR.GetLookupImage()
	m.SetInType(holdType)

	return result, err
}

// CreateSecurityGroup
func (m *MCIRApi) CreateSecurityGroup(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.CreateSecurityGroup()
}

// CreateSecurityGroupByParam
func (m *MCIRApi) CreateSecurityGroupByParam(req *TbSecurityGroupCreateRequest) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	j, err := json.Marshal(req)
	if err != nil {
		return "", err
	}
	m.requestMCIR.InData = string(j)
	result, err := m.requestMCIR.CreateSecurityGroup()
	m.SetInType(holdType)

	return result, err
}

// ListSecurityGroup
func (m *MCIRApi) ListSecurityGroup(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListSecurityGroup()
}

// ListSecurityGroupByParam
func (m *MCIRApi) ListSecurityGroupByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"securityGroup"}`
	result, err := m.requestMCIR.ListSecurityGroup()
	m.SetInType(holdType)

	return result, err
}

// ListSecurityGroupId
func (m *MCIRApi) ListSecurityGroupId(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListSecurityGroupId()
}

// ListSecurityGroupIdByParam
func (m *MCIRApi) ListSecurityGroupIdByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"securityGroup"}`
	result, err := m.requestMCIR.ListSecurityGroupId()
	m.SetInType(holdType)

	return result, err
}

// GetSecurityGroup
func (m *MCIRApi) GetSecurityGroup(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.GetSecurityGroup()
}

// GetSecurityGroupByParam
func (m *MCIRApi) GetSecurityGroupByParam(nameSpaceID string, resourceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"securityGroup", "resourceId":"` + resourceID + `"}`
	result, err := m.requestMCIR.GetSecurityGroup()
	m.SetInType(holdType)

	return result, err
}

// DeleteSecurityGroup
func (m *MCIRApi) DeleteSecurityGroup(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteSecurityGroup()
}

// DeleteSecurityGroupByParam
func (m *MCIRApi) DeleteSecurityGroupByParam(nameSpaceID string, resourceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"securityGroup", "resourceId":"` + resourceID + `", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteSecurityGroup()
	m.SetInType(holdType)

	return result, err
}

// DeleteAllSecurityGroup
func (m *MCIRApi) DeleteAllSecurityGroup(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteAllSecurityGroup()
}

// DeleteAllSecurityGroupByParam
func (m *MCIRApi) DeleteAllSecurityGroupByParam(nameSpaceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"securityGroup", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteAllImage()
	m.SetInType(holdType)

	return result, err
}

// CreateSpecWithInfo
func (m *MCIRApi) CreateSpecWithInfo(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.CreateSpecWithInfo()
}

// CreateSpecWithInfoByParam
func (m *MCIRApi) CreateSpecWithInfoByParam(req *TbSpecInfoRequest) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	j, err := json.Marshal(req)
	if err != nil {
		return "", err
	}
	m.requestMCIR.InData = string(j)
	result, err := m.requestMCIR.CreateSpecWithInfo()
	m.SetInType(holdType)

	return result, err
}

// CreateSpecWithSpecName
func (m *MCIRApi) CreateSpecWithSpecName(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.CreateSpecWithSpecName()
}

// CreateSpecWithSpecNameByParam
func (m *MCIRApi) CreateSpecWithSpecNameByParam(req *TbSpecCreateRequest) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	j, err := json.Marshal(req)
	if err != nil {
		return "", err
	}
	m.requestMCIR.InData = string(j)
	result, err := m.requestMCIR.CreateSpecWithSpecName()
	m.SetInType(holdType)

	return result, err
}

// ListSpec
func (m *MCIRApi) ListSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListSpec()
}

// ListSpecByParam
func (m *MCIRApi) ListSpecByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"spec"}`
	result, err := m.requestMCIR.ListSpec()
	m.SetInType(holdType)

	return result, err
}

// ListSpecId
func (m *MCIRApi) ListSpecId(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListSpecId()
}

// ListSpecIdByParam
func (m *MCIRApi) ListSpecIdByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"spec"}`
	result, err := m.requestMCIR.ListSpecId()
	m.SetInType(holdType)

	return result, err
}

// GetSpec
func (m *MCIRApi) GetSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.GetSpec()
}

// GetSpecByParam
func (m *MCIRApi) GetSpecByParam(nameSpaceID string, resourceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"spec", "resourceId":"` + resourceID + `"}`
	result, err := m.requestMCIR.GetSpec()
	m.SetInType(holdType)

	return result, err
}

// DeleteSpec
func (m *MCIRApi) DeleteSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteSpec()
}

// DeleteSpecByParam
func (m *MCIRApi) DeleteSpecByParam(nameSpaceID string, resourceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"spec", "resourceId":"` + resourceID + `", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteSpec()
	m.SetInType(holdType)

	return result, err
}

// DeleteAllSpec
func (m *MCIRApi) DeleteAllSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteAllSpec()
}

// DeleteAllSpecByParam
func (m *MCIRApi) DeleteAllSpecByParam(nameSpaceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"spec", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteAllSpec()
	m.SetInType(holdType)

	return result, err
}

// FetchSpec
func (m *MCIRApi) FetchSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.FetchSpec()
}

// FetchSpecByParam
func (m *MCIRApi) FetchSpecByParam(connConfigName string, nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"ConnectionName":"` + connConfigName + `", "nsId":"` + nameSpaceID + `"}`
	result, err := m.requestMCIR.FetchSpec()
	m.SetInType(holdType)

	return result, err
}

// FilterSpec
func (m *MCIRApi) FilterSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.FilterSpec()
}

// FilterSpecsByRange
func (m *MCIRApi) FilterSpecsByRange(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.FilterSpecsByRange()
}

// SortSpecs
func (m *MCIRApi) SortSpecs(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.SortSpecs()
}

// UpdateSpec
func (m *MCIRApi) UpdateSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.UpdateSpec()
}

// ListLookupSpec - LookupSpecs
func (m *MCIRApi) ListLookupSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListLookupSpec()
}

// ListLookupSpecByParam - LookupSpecs
func (m *MCIRApi) ListLookupSpecByParam(connConfigName string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"ConnectionName":"` + connConfigName + `"}`
	result, err := m.requestMCIR.ListLookupSpec()
	m.SetInType(holdType)

	return result, err
}

// GetLookupSpec - LookupSpec
func (m *MCIRApi) GetLookupSpec(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.GetLookupSpec()
}

// GetLookupSpecByParam - LookupSpec
func (m *MCIRApi) GetLookupSpecByParam(connConfigName string, cspSpecName string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"ConnectionName":"` + connConfigName + `", "cspSpecName": "` + cspSpecName + `"}`
	result, err := m.requestMCIR.GetLookupSpec()
	m.SetInType(holdType)

	return result, err
}

// CreateSshKey
func (m *MCIRApi) CreateSshKey(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.CreateSshKey()
}

// CreateSshKeyByParam
func (m *MCIRApi) CreateSshKeyByParam(req *TbSshKeyCreateRequest) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	j, err := json.Marshal(req)
	if err != nil {
		return "", err
	}
	m.requestMCIR.InData = string(j)
	result, err := m.requestMCIR.CreateSshKey()
	m.SetInType(holdType)

	return result, err
}

// ListSshKey
func (m *MCIRApi) ListSshKey(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListSshKey()
}

// ListSshKeyByParam
func (m *MCIRApi) ListSshKeyByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"sshKey"}`
	result, err := m.requestMCIR.ListSshKey()
	m.SetInType(holdType)

	return result, err
}

// ListSshKeyId
func (m *MCIRApi) ListSshKeyId(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListSshKeyId()
}

// ListSshKeyIdByParam
func (m *MCIRApi) ListSshKeyIdByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"sshKey"}`
	result, err := m.requestMCIR.ListSshKeyId()
	m.SetInType(holdType)

	return result, err
}

// GetSshKey
func (m *MCIRApi) GetSshKey(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.GetSshKey()
}

// GetSshKeyByParam
func (m *MCIRApi) GetSshKeyByParam(nameSpaceID string, resourceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"sshKey", "resourceId":"` + resourceID + `"}`
	result, err := m.requestMCIR.GetSshKey()
	m.SetInType(holdType)

	return result, err
}

// DeleteSshKey
func (m *MCIRApi) DeleteSshKey(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteSshKey()
}

// DeleteSshKeyByParam
func (m *MCIRApi) DeleteSshKeyByParam(nameSpaceID string, resourceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"sshKey", "resourceId":"` + resourceID + `", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteSshKey()
	m.SetInType(holdType)

	return result, err
}

// DeleteAllSshKey
func (m *MCIRApi) DeleteAllSshKey(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteAllSshKey()
}

// DeleteAllSshKeyByParam
func (m *MCIRApi) DeleteAllSshKeyByParam(nameSpaceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"sshKey", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteAllSshKey()
	m.SetInType(holdType)

	return result, err
}

// CreateVNet
func (m *MCIRApi) CreateVNet(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.CreateVNet()
}

// CreateVNetByParam
func (m *MCIRApi) CreateVNetByParam(req *TbVNetCreateRequest) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	j, err := json.Marshal(req)
	if err != nil {
		return "", err
	}
	m.requestMCIR.InData = string(j)
	result, err := m.requestMCIR.CreateVNet()
	m.SetInType(holdType)

	return result, err
}

// ListVNet
func (m *MCIRApi) ListVNet(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListVNet()
}

// ListVNetByParam
func (m *MCIRApi) ListVNetByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"vNet"}`
	result, err := m.requestMCIR.ListVNet()
	m.SetInType(holdType)

	return result, err
}

// ListVNetId
func (m *MCIRApi) ListVNetId(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.ListVNetId()
}

// ListVNetIdByParam
func (m *MCIRApi) ListVNetIdByParam(nameSpaceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"vNet"}`
	result, err := m.requestMCIR.ListVNetId()
	m.SetInType(holdType)

	return result, err
}

// GetVNet
func (m *MCIRApi) GetVNet(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.GetVNet()
}

// GetVNetByParam
func (m *MCIRApi) GetVNetByParam(nameSpaceID string, resourceID string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"vNet", "resourceId":"` + resourceID + `"}`
	result, err := m.requestMCIR.GetVNet()
	m.SetInType(holdType)

	return result, err
}

// DeleteVNet
func (m *MCIRApi) DeleteVNet(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteVNet()
}

// DeleteVNetByParam
func (m *MCIRApi) DeleteVNetByParam(nameSpaceID string, resourceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"vNet", "resourceId":"` + resourceID + `", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteVNet()
	m.SetInType(holdType)

	return result, err
}

// DeleteAllVNet
func (m *MCIRApi) DeleteAllVNet(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.DeleteAllVNet()
}

// DeleteAllVNetByParam
func (m *MCIRApi) DeleteAllVNetByParam(nameSpaceID string, force string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"vNet", "force":"` + force + `"}`
	result, err := m.requestMCIR.DeleteAllVNet()
	m.SetInType(holdType)

	return result, err
}

// CheckResource - Check whether Resource exists or not
func (m *MCIRApi) CheckResource(doc string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	m.requestMCIR.InData = doc
	return m.requestMCIR.CheckResource()
}

// CheckResourceByParam - Check whether Resource exists or not
func (m *MCIRApi) CheckResourceByParam(nameSpaceID string, resourceID string, resourceType string) (string, error) {
	if m.requestMCIR == nil {
		return "", errors.New("The Open() function must be called")
	}

	holdType, _ := m.GetInType()
	m.SetInType("json")
	m.requestMCIR.InData = `{"nsId":"` + nameSpaceID + `", "resourceType":"vNet", "resourceId":"` + resourceID + `", "resourceType":"` + resourceType + `"}`
	result, err := m.requestMCIR.CheckResource()
	m.SetInType(holdType)

	return result, err
}

// ===== [ Private Functiom ] =====

// ===== [ Public Functiom ] =====

// NewMCIRManager - Create new MCIR API object
func NewMCIRManager() (m *MCIRApi) {

	m = &MCIRApi{}
	m.gConf = &config.GrpcConfig{}
	m.gConf.GSL.TumblebugCli = &config.GrpcClientConfig{}

	m.jaegerCloser = nil
	m.conn = nil
	m.clientMCIR = nil
	m.requestMCIR = nil

	m.inType = "json"
	m.outType = "json"

	return
}
